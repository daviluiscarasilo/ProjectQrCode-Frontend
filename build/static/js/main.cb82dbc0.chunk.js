(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{199:function(e,t,c){},200:function(e,t,c){"use strict";c.r(t);var a=c(1),o=c.n(a),n=c(25),r=c.n(n),s=(c(117),c(111)),i=c(9),l=c(56),d=(c(106),c(39)),j=c(76),u=c(21),b=c(2),h=function(){return Object(b.jsxs)(d.a,{className:"cabecalho",children:[Object(b.jsx)(d.a.Brand,{href:"#home",children:Object(b.jsx)(u.b,{})}),Object(b.jsx)(j.a,{className:"mr-auto",children:Object(b.jsxs)(j.a.Link,{href:"#/home",className:"active",children:[Object(b.jsx)(u.d,{})," Home"]})})]})},x=function(){return Object(b.jsx)(d.a,{bg:"dark",children:Object(b.jsxs)(d.a.Brand,{href:"#inicio",className:"text-light",children:[Object(b.jsx)(u.b,{})," Developed by: Davi L. Carasilo and Pedro Spinardi -- 2021 A Fatec\u2019s project"]})})},O=c(36),m=c.n(O),p=c(43),f=c(45),g=c(61),v=c(33),C=c(23),y=c(18),k=c(62),I=c(109),N=c(8),F=c(32),S=c(40),w=c(63),E="https://backendprojectqrcode.herokuapp.com",A=c(107),T=c.n(A),D=c(108),L=c.n(D),z=c(110),B=(c(128),c(187)),G=function(){var e={status:"ativo",numeroIdentificacao:"",descricao:"",preco:0,atributos:"",negocio:""},t=Object(a.useState)(e),c=Object(v.a)(t,2),o=c[0],n=c[1],r=Object(a.useState)([]),s=Object(v.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(!1),O=Object(v.a)(j,2),A=O[0],D=O[1],G=Object(a.useState)(!1),P=Object(v.a)(G,2),R=P[0],q=P[1],H=Object(a.useState)(!1),_=Object(v.a)(H,2),J=_[0],Q=_[1],M=Object(a.useState)(""),U=Object(v.a)(M,2),$=U[0],K=U[1],V=Object(a.useState)({}),W=Object(v.a)(V,2),X=W[0],Y=W[1],Z=o.numeroIdentificacao,ee=o.descricao,te=o.preco,ce=o.atributos,ae=o.negocio,oe=o.status;function ne(){return re.apply(this,arguments)}function re(){return(re=Object(g.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),t="".concat(E,"/produtos"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){d(e),console.log(e)})).catch((function(e){console.error("Erro ao obter as produtos: ".concat(e.message))}));case 4:D(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){document.title="Cadastro de produtos",ne()}),[]);var se=function(){var e={};return Z&&""!==Z?Z.length>20?e.numeroIdentificacao="O c\xf3digo de identifica\xe7\xe3o informado \xe9 muito longo":Z.length<5&&(e.numeroIdentificacao="O c\xf3digo de identifica\xe7\xe3o informado \xe9 muito curto"):e.numeroIdentificacao="O c\xf3digo de identifica\xe7\xe3o n\xe3o pode ser vazio",ee&&""!==ee?ee.length>300&&(e.descricao="A descri\xe7\xe3o informada \xe9 muito longa"):e.descricao="A descri\xe7\xe3o n\xe3o pode ser vazia",ce&&""!==ce?ce.length>300&&(e.atributos="O atributo  informado \xe9 muito longo"):e.atributos="O atributo n\xe3o pode ser vazio",ae&&""!==ae?ae.length>300&&(e.negocio="O neg\xf3cio  informado \xe9 muito longo"):e.negocio="O neg\xf3cio n\xe3o pode ser vazio",te&&""!==te?/^[0-9\b]+$/.test((te+"").replaceAll(".",""))?(te+"").split(".").length>2&&(e.preco="O pre\xe7o  informado precisa ser num\xe9rico"):e.preco="O pre\xe7o  informado precisa ser num\xe9rico":e.preco="O pre\xe7o n\xe3o pode ser vazio",e},ie=function(e){n(Object(f.a)(Object(f.a)({},o),{},Object(p.a)({},e.target.name,e.target.value))),Y({})};function le(){return(le=Object(g.a)(m.a.mark((function t(c){var a,r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),a=se(),!(Object.keys(a).length>0)){t.next=6;break}Y(a),t.next=13;break;case 6:return r=o.hasOwnProperty("_id")?"PUT":"POST",o.status=!0===o.status||"ativo"===o.status?"ativo":"inativo",q(!0),s="".concat(E,"/produtos"),t.next=12,fetch(s,{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(t){t._id||t.message?K("Registro salvo com sucesso"):K(""),n(e),ne()})).catch((function(e){console.error("Erro ao salvar a produto: ".concat(e.message))}));case 12:q(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(){return(de=Object(g.a)(m.a.mark((function t(){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(E,"/produtos/").concat(o._id),t.next=3,fetch(c,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.message?K(t.message):K(""),n(e),ne()})).catch((function(e){console.error("Erro ao excluir a produto: ".concat(e.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(b.jsx)(h,{}),Object(b.jsx)(C.a,{style:{marginTop:"30px",marginBottom:"30px"},children:Object(b.jsx)(y.a,{xs:12,lg:12,children:Object(b.jsx)("b",{children:Object(b.jsx)("h3",{className:"text-center",children:" Gerenciamento de Itens"})})})}),Object(b.jsxs)(N.a,{method:"post",children:[Object(b.jsxs)(N.a.Group,{as:C.a,controlId:"descricao",children:[Object(b.jsx)(N.a.Label,{column:!0,xs:2,lg:2,className:"titulosFormulario",children:"Descri\xe7\xe3o:"}),Object(b.jsxs)(y.a,{xs:9,lg:9,children:[Object(b.jsx)(N.a.Control,{className:"camposFormulario",name:"descricao",placeholder:"Ex: 78983574100015",onChange:ie,value:ee,isInvalid:!!X.descricao}),Object(b.jsx)(N.a.Control.Feedback,{type:"invalid",children:X.descricao})]})]}),Object(b.jsxs)(N.a.Group,{as:C.a,controlId:"atributos",children:[Object(b.jsx)(N.a.Label,{column:!0,xs:2,lg:2,className:"titulosFormulario",children:"Atributos:"}),Object(b.jsxs)(y.a,{xs:9,lg:9,children:[Object(b.jsx)(N.a.Control,{className:"camposFormulario",name:"atributos",placeholder:"Ex: Tamanho; Altura; Comprimento; peso",onChange:ie,value:ce,isInvalid:!!X.atributos}),Object(b.jsx)(N.a.Control.Feedback,{type:"invalid",children:X.atributos})]})]}),Object(b.jsxs)(N.a.Group,{as:C.a,controlId:"negocio",children:[Object(b.jsx)(N.a.Label,{column:!0,xs:2,lg:2,className:"titulosFormulario",children:"Neg\xf3cio:"}),Object(b.jsxs)(y.a,{xs:9,lg:9,children:[Object(b.jsx)(N.a.Control,{className:"camposFormulario",name:"negocio",placeholder:"Ex: Tamanho do estoque, frequ\xeancia de reposi\xe7\xe3o, pedido m\xednimo",onChange:ie,value:ae,isInvalid:!!X.negocio}),Object(b.jsx)(N.a.Control.Feedback,{type:"invalid",children:X.negocio})]})]}),Object(b.jsxs)(N.a.Group,{as:C.a,controlId:"preco",children:[Object(b.jsx)(N.a.Label,{column:!0,xs:2,lg:2,className:"titulosFormulario",children:"Pre\xe7o:"}),Object(b.jsxs)(y.a,{xs:2,lg:2,children:[Object(b.jsx)(N.a.Control,{className:"camposFormulario",name:"preco",placeholder:"Ex: 19,90",onChange:ie,value:te,isInvalid:!!X.preco}),Object(b.jsx)(N.a.Control.Feedback,{type:"invalid",children:X.preco})]})]}),Object(b.jsxs)(N.a.Group,{as:C.a,controlId:"numeroIdentificacao",children:[Object(b.jsx)(N.a.Label,{column:!0,xs:2,lg:2,className:"titulosFormulario",children:"C\xf3digo Identifica\xe7\xe3o:"}),Object(b.jsxs)(y.a,{xs:2,lg:2,children:[Object(b.jsx)(N.a.Control,{className:"camposFormulario",name:"numeroIdentificacao",placeholder:"Ex: 78983574100015",onChange:ie,value:Z,isInvalid:!!X.numeroIdentificacao}),Object(b.jsx)(N.a.Control.Feedback,{type:"invalid",children:X.numeroIdentificacao})]})]}),Object(b.jsx)(N.a.Group,{as:C.a,controlId:"status",children:Object(b.jsx)(y.a,{xs:2,lg:2,className:"offset-lg-2 offset-xs-2",children:Object(b.jsx)(N.a.Check,{type:"checkbox",label:"Ativo",name:"status",onChange:function(e){return n(Object(f.a)(Object(f.a)({},o),{},Object(p.a)({},e.target.name,e.target.checked)))},checked:oe})})}),Object(b.jsx)(C.a,{style:{marginBottom:"10px"},children:Object(b.jsxs)(y.a,{xs:4,lg:4,className:"offset-lg-8 offset-xs-8",children:[Object(b.jsxs)(F.a,{style:{marginRight:"30px"},variant:"primary",type:"submit",title:"Salvar o registro",onClick:function(e){return function(e){return le.apply(this,arguments)}(e)},children:[R?Object(b.jsx)(k.a,{animation:"border",size:"sm"}):Object(b.jsx)(u.f,{}),"Salvar"]}),"\xa0",Object(b.jsxs)(F.a,{variant:"danger",type:"button",title:"Cancelar",onClick:function(){return n(e)},children:[Object(b.jsx)(u.a,{})," Cancelar"]})]})})]}),Object(b.jsx)(C.a,{children:Object(b.jsxs)(y.a,{xs:12,lg:12,children:[A&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k.a,{animation:"border",size:"sm"}),Object(b.jsx)(k.a,{animation:"grow",variant:"info"}),Object(b.jsx)("p",{children:"Aguarde, enquanto as produtos s\xe3o carregados..."})]}),Object(b.jsxs)(I.a,{className:"text-center",striped:!0,bordered:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"relatorio text-dark",children:[Object(b.jsx)("th",{children:"C\xf3digo Identificacao"}),Object(b.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(b.jsx)("th",{children:"Pre\xe7o"}),Object(b.jsx)("th",{children:"Atributos"}),Object(b.jsx)("th",{children:"Negocio"}),Object(b.jsx)("th",{children:"Status"}),Object(b.jsx)("th",{children:"Data Cria\xe7\xe3o"}),Object(b.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(b.jsxs)("tbody",{children:[i.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.numeroIdentificacao}),Object(b.jsx)("td",{children:e.descricao}),Object(b.jsx)("td",{children:e.preco}),Object(b.jsx)("td",{children:e.atributos}),Object(b.jsx)("td",{children:e.negocio}),Object(b.jsx)("td",{children:e.status}),Object(b.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(b.jsxs)("td",{children:[Object(b.jsx)(F.a,{variant:"outline-primary",title:"Editar o registro",onClick:function(){n(e),window.scrollTo(0,0)},children:Object(b.jsx)(u.e,{})}),"\xa0",Object(b.jsx)(F.a,{variant:"outline-danger",title:"Apagar o registro",onClick:function(){n(e),Q(!0)},children:Object(b.jsx)(u.c,{})}),"\xa0",Object(b.jsxs)(F.a,{variant:"outline-success",type:"button",title:"QRCode",onClick:function(){return function(e){var t=L()(T.a);t.fire({didOpen:function(){t.clickConfirm()}}).then((function(){var c=e.numeroIdentificacao+"\n"+e.descricao+"\n"+e.preco+"\n"+e.atributos+"\n"+e.negocio+"\n"+e.status+"\n";return t.fire(Object(b.jsx)(B,{value:c}))}))}(e)},children:[Object(b.jsx)(z.a,{})," QRCode"]})]})]},e._id)})),Object(b.jsxs)("tr",{className:"bg-dark text-light",children:[Object(b.jsx)("td",{colSpan:"3",children:"Total de Registros:"}),Object(b.jsx)("td",{children:i.length})]})]})]})]})}),Object(b.jsxs)(S.a,{animation:!1,show:J,onHide:function(){return Q(!1)},children:[Object(b.jsx)(S.a.Header,{children:Object(b.jsx)(S.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(b.jsx)(S.a.Body,{children:"Confirma a exclus\xe3o da produto selecionado?"}),Object(b.jsxs)(S.a.Footer,{children:[Object(b.jsx)(F.a,{variant:"danger",onClick:function(){return Q(!J)},children:"\u274cCancelar"}),Object(b.jsx)(F.a,{variant:"success",onClick:function(){Q(!J),function(){de.apply(this,arguments)}()},children:"\u2714\ufe0fConfirmar"})]})]}),Object(b.jsxs)(w.a,{onClose:function(){return K("")},show:$.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-success",style:{position:"absolute",top:10,right:10},children:[Object(b.jsx)(w.a.Header,{children:"Aviso"}),Object(b.jsx)(w.a.Body,{className:"text-light",children:$})]}),Object(b.jsx)(x,{})]})})};function P(){return Object(b.jsx)(s.a,{children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",component:G}),Object(b.jsx)(i.a,{exact:!0,path:"/home",component:G})]})})}c(199);var R=function(){return Object(b.jsx)(P,{})};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.cb82dbc0.chunk.js.map